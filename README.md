# 🤖 Captain Admin Bot

ربات مدیریت و ارسال خودکار پست‌ها در کانال‌های تلگرام

## 📋 ویژگی‌ها

- 🌐 **پشتیبانی از دو زبان**: فارسی و انگلیسی
- 📢 **مدیریت کانال‌ها**: افزودن، مشاهده و حذف کانال‌ها
- 🚀 **ارسال فوری**: ارسال فوری پست‌ها به کانال‌های انتخابی
- ⏰ **ارسال زمان‌بندی شده**: برنامه‌ریزی ارسال پست‌ها با تقویم شمسی
- 📝 **مدیریت کپشن**: افزودن کپشن سفارشی به پست‌ها
- 🏷️ **فوتر شخصی**: تنظیم فوتر ثابت برای تمام پست‌ها
- 📊 **سیستم پریمیوم**: محدودیت 10 پست برای کاربران رایگان
- 🎯 **پشتیبانی از انواع محتوا**: متن، عکس، ویدیو، سند، صوت و...

## 🛠️ نصب و راه‌اندازی

### پیش‌نیازها

- Python 3.8+
- Docker (اختیاری)
- ربات تلگرام (از @BotFather)

### نصب مستقیم

1. **کلون کردن پروژه**:
```bash
git clone <repository-url>
cd Captain_admin_Bot
```

2. **نصب وابستگی‌ها**:
```bash
pip install -r requirements.txt
```

3. **تنظیم متغیرهای محیطی**:
```bash
cp .env.example .env
```

فایل `.env` را ویرایش کنید:
```env
BOT_TOKEN=YOUR_BOT_TOKEN_HERE
DEVELOPER_ID=YOUR_TELEGRAM_USER_ID
```

4. **ایجاد پوشه دیتابیس**:
```bash
mkdir data
```

5. **اجرای ربات**:
```bash
python bot.py
```

### نصب با Docker

1. **تنظیم فایل .env** (مانند بالا)

2. **اجرای با Docker Compose**:
```bash
docker-compose up -d
```

## 📖 راهنمای استفاده

### شروع کار

1. ربات را استارت کنید: `/start`
2. زبان مورد نظر را انتخاب کنید
3. از منوی اصلی گزینه‌های مختلف را انتخاب کنید

### مدیریت کانال‌ها

1. **افزودن کانال**:
   - گزینه "مدیریت کانال‌ها" را انتخاب کنید
   - روی "افزودن کانال جدید" کلیک کنید
   - ربات را به کانال اضافه کرده و ادمین کنید
   - یک پیام از کانال فوروارد کنید

2. **مشاهده کانال‌ها**:
   - از منوی مدیریت کانال‌ها، "لیست کانال‌های من" را انتخاب کنید

3. **حذف کانال**:
   - در لیست کانال‌ها، روی کانال مورد نظر کلیک کنید
   - گزینه "حذف کانال" را انتخاب کنید

### ارسال پست

1. **محتوای خود را ارسال کنید** (متن، عکس، ویدیو و...)
2. **نوع ارسال را انتخاب کنید**:
   - ارسال فوری
   - ارسال زمان‌بندی شده
3. **کانال‌های مقصد را انتخاب کنید**
4. **کپشن اضافه کنید** (اختیاری)

### تنظیم فوتر

1. گزینه "تنظیم فوتر" را از منوی اصلی انتخاب کنید
2. متن فوتر مورد نظر را ارسال کنید
3. این فوتر به انتهای تمام پست‌های شما اضافه می‌شود

## 💎 سیستم پریمیوم

- **کاربران رایگان**: محدود به 10 پست در ماه
- **کاربران پریمیوم**: ارسال نامحدود پست
- برای ارتقا به پریمیوم، از منوی اصلی گزینه "ارتقا به پریمیوم" را انتخاب کنید

## 🗂️ ساختار پروژه

```
Captain_admin_Bot/
├── bot.py                 # فایل اصلی ربات
├── config.py             # تنظیمات و متغیرهای محیطی
├── database.py           # مدیریت پایگاه داده
├── keyboards.py          # کیبوردهای inline و reply
├── texts.py              # متن‌های چندزبانه
├── states.py             # حالت‌های FSM
├── handlers/             # هندلرهای مختلف
│   ├── general.py        # هندلرهای عمومی
│   ├── channels.py       # مدیریت کانال‌ها
│   ├── broadcasting.py   # ارسال و زمان‌بندی
│   └── footer.py         # مدیریت فوتر
├── utils/                # ابزارهای کمکی
│   ├── scheduler.py      # مدیریت زمان‌بندی
│   └── persian_calendar.py # تقویم شمسی
├── requirements.txt      # وابستگی‌های Python
├── docker-compose.yml    # تنظیمات Docker
├── Dockerfile           # تصویر Docker
└── .env.example         # نمونه فایل متغیرهای محیطی
```

## 🔧 تنظیمات پیشرفته

### متغیرهای محیطی

- `BOT_TOKEN`: توکن ربات تلگرام
- `DEVELOPER_ID`: شناسه عددی توسعه‌دهنده در تلگرام

### پایگاه داده

ربات از SQLite استفاده می‌کند و فایل دیتابیس در `data/bot.db` ذخیره می‌شود.

جداول اصلی:
- `users`: اطلاعات کاربران
- `channels`: کانال‌های ثبت شده
- `scheduled_posts`: پست‌های زمان‌بندی شده
- `user_stats`: آمار استفاده کاربران

## 🐛 عیب‌یابی

### مشکلات رایج

1. **ربات پاسخ نمی‌دهد**:
   - توکن ربات را بررسی کنید
   - اتصال اینترنت را چک کنید

2. **نمی‌تواند به کانال ارسال کند**:
   - ربات باید ادمین کانال باشد
   - دسترسی‌های لازم را به ربات بدهید

3. **زمان‌بندی کار نمی‌کند**:
   - تایم زون سرور را بررسی کنید
   - فایل دیتابیس قابل نوشتن باشد

### لاگ‌ها

لاگ‌های ربات در کنسول نمایش داده می‌شوند. برای ذخیره در فایل:

```bash
python bot.py > bot.log 2>&1
```

## 🤝 مشارکت

برای مشارکت در پروژه:

1. پروژه را Fork کنید
2. برنچ جدید ایجاد کنید
3. تغییرات خود را Commit کنید
4. Pull Request ارسال کنید

## 📄 مجوز

این پروژه تحت مجوز MIT منتشر شده است.

## 📞 پشتیبانی

برای پشتیبانی و گزارش باگ، با توسعه‌دهنده در تلگرام تماس بگیرید.

---

**نکته**: این ربات برای استفاده شخصی و تجاری قابل استفاده است. لطفاً از قوانین تلگرام پیروی کنید.